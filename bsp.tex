\begin{algorithm}
\KwIn{\\
\texttt{BSP\_Node solmu}:\hspace{1.55cm} juurisolmu, josta puu rakennetaan\\
\texttt{Polygon polygonit[$\,$]}:\tab polygonijoukko, josta alipuut rakennetaan}
\KwOut{\\BSP-puu, jonka juurena on \texttt{node}}
\BlankLine
\nonl \texttt{RAKENNA\_BSP\_PUU(solmu, polygonit):\\}
 \texttt{jakaja} $\gets$ \texttt{VALITSE\_JAKAVA\_POLYGONI(polygonit)}\\
 \texttt{positiivinen\_joukko} $\gets \emptyset$\\
 \texttt{negatiivinen\_joukko} $\gets \emptyset$\\
 \ForEach{polygoni \textnormal{$\gamma \, \epsilon$ \texttt{polygonit}}}{
   \texttt{sijainti} $\gets$ \texttt{VERTAA(jakaja, $\gamma$)}\\
  \uIf{\textnormal{\texttt{sijainti} = jakajan edessä}}{
   \texttt{positiivinen\_joukko} = \texttt{positiivinen\_joukko} $\cup\,\gamma$
  }
  \uElseIf{\textnormal{\texttt{sijainti} = jakajan takana}}{
   \texttt{negatiivinen\_joukko} = \texttt{negatiivinen\_joukko} $\cup\,\gamma$
  }
  \uElseIf{\textnormal{\texttt{sijainti} = leikkaa jakajan määrittämää tasoa}}{
   \texttt{JAA\_POLYGONI($\gamma$, jakaja, $\gamma_i$, $\gamma_j$)}\\
   \texttt{positiivinen\_joukko} = \texttt{positiivinen\_joukko} $\cup\,\gamma_i$\\
   \texttt{negatiivinen\_joukko} = \texttt{negatiivinen\_joukko} $\cup\,\gamma_j$
  }
 }
\texttt{RAKENNA\_BSP\_PUU(solmu.oikea\_lapsi, positiivinen\_joukko)}\\
\texttt{RAKENNA\_BSP\_PUU(solmu.vasen\_lapsi, negatiivinen\_joukko)}

\caption{\texttt{RAKENNA\_BSP\_PUU}}\label{algo_bsp}
\end{algorithm}
